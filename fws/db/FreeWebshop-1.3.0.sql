-- fix in apps 0.8 did not work, new correction applied in apps 0.9.0
REPLACE INTO `##faces` (`ID`, `NAME`, `ELEMENTCOUNT`, `DATA`, `TYPE`, `ENTITY`, `LABEL`) VALUES(49, 'taxes', 2, '{"3":{"subelements":{"1":{"id":1,"populate":"","sortorder":1}},"rules":[],"mandatory":1,"links":[],"id":3,"label":"Label       ","x":45,"y":5,"type":"text_small","column":"LABEL","children":2},"5":{"subelements":{"1":{"id":1,"populate":"1","sortorder":2}},"rules":[],"links":[],"id":5,"label":"Cascading        ","x":45,"y":44,"type":"checkbox","column":"CASCADING","children":2}}', 'DB', 'taxes', 'Taxes');
REPLACE INTO `##faces` (`ID`, `NAME`, `ELEMENTCOUNT`, `DATA`, `TYPE`, `ENTITY`, `LABEL`) VALUES(50, 'taxrates', 4, '{"4":{"subelements":{"1":{"id":1,"populate":"9","sortorder":1,"hide":1},"2":{"id":2,"populate":"id","label":"Key"},"3":{"id":3,"populate":"label","label":"Value"},"4":{"id":4,"populate":"taxes","label":"Table"}},"rules":[],"links":[],"id":4,"label":"Taxes ID  ","x":45,"y":5,"type":"sql","column":"TAXESID","children":5},"1":{"subelements":{"1":{"id":1,"populate":"","sortorder":3}},"rules":[],"links":[],"id":1,"label":"Country    ","x":45,"y":52,"type":"country","column":"COUNTRY","children":2},"2":{"subelements":{"1":{"id":1,"populate":"","sortorder":2}},"rules":[],"links":[],"id":2,"label":"State   ","x":45,"y":90,"type":"text_large","column":"STATE","children":2},"3":{"subelements":{"1":{"id":1,"populate":"","sortorder":4}},"rules":[],"mandatory":1,"links":[],"id":3,"label":"Rate   ","x":45,"y":129,"type":"percentage","column":"RATE","children":2}}', 'DB', 'taxrates', 'Tax rates');
REPLACE INTO `##faces` (`ID`, `NAME`, `ELEMENTCOUNT`, `DATA`, `TYPE`, `ENTITY`, `LABEL`) VALUES(51, 'settings', 2, '{"1":{"subelements":{"1":{"id":1,"populate":"1"}},"rules":[],"links":[],"id":1,"label":"Activate fast checkout  ","x":45,"y":5,"type":"checkbox","column":"FASTCHECKOUT","children":2},"2":{"subelements":{"1":{"id":1,"populate":"1"}},"rules":[],"links":[],"id":2,"label":"Date of birth on registration form ","x":45,"y":44,"type":"checkbox","column":"REGISTERDOB","children":2}}', 'DB', 'settings', 'Settings');
REPLACE INTO `##flink` (`ID`, `DATE_CREATED`, `DATE_UPDATED`, `FORMIN`, `FORMOUT`, `ACTION`, `ICON`, `DISPLAYIN`, `MAPPING`, `FORMOUTALT`, `REDIRECT`, `ACTIONIN`, `ACTIONOUT`, `DISPLAYOUT`) VALUES(10, '0000-00-00 00:00:00', NULL, 49, 49, 'edit', 'edit.png', 'list', NULL, NULL, NULL, NULL, 'edit', 'form');
REPLACE INTO `##flink` (`ID`, `DATE_CREATED`, `DATE_UPDATED`, `FORMIN`, `FORMOUT`, `ACTION`, `ICON`, `DISPLAYIN`, `MAPPING`, `FORMOUTALT`, `REDIRECT`, `ACTIONIN`, `ACTIONOUT`, `DISPLAYOUT`) VALUES(11, '0000-00-00 00:00:00', NULL, 49, 49, 'delete', 'delete.png', 'list', NULL, NULL, NULL, NULL, 'delete', 'form');
REPLACE INTO `##flink` (`ID`, `DATE_CREATED`, `DATE_UPDATED`, `FORMIN`, `FORMOUT`, `ACTION`, `ICON`, `DISPLAYIN`, `MAPPING`, `FORMOUTALT`, `REDIRECT`, `ACTIONIN`, `ACTIONOUT`, `DISPLAYOUT`) VALUES(12, '0000-00-00 00:00:00', NULL, 49, 49, 'view', 'view.png', 'list', NULL, NULL, NULL, NULL, 'view', 'form');
REPLACE INTO `##flink` (`ID`, `DATE_CREATED`, `DATE_UPDATED`, `FORMIN`, `FORMOUT`, `ACTION`, `ICON`, `DISPLAYIN`, `MAPPING`, `FORMOUTALT`, `REDIRECT`, `ACTIONIN`, `ACTIONOUT`, `DISPLAYOUT`) VALUES(13, '2010-02-12 12:56:59', NULL, 49, 50, 'Rates', '', 'list', 'taxesid:id', '', '', NULL, '', 'list');
REPLACE INTO `##flink` (`ID`, `DATE_CREATED`, `DATE_UPDATED`, `FORMIN`, `FORMOUT`, `ACTION`, `ICON`, `DISPLAYIN`, `MAPPING`, `FORMOUTALT`, `REDIRECT`, `ACTIONIN`, `ACTIONOUT`, `DISPLAYOUT`) VALUES(14, '0000-00-00 00:00:00', NULL, 50, 50, 'edit', 'edit.png', 'list', NULL, NULL, NULL, NULL, 'edit', 'form');
REPLACE INTO `##flink` (`ID`, `DATE_CREATED`, `DATE_UPDATED`, `FORMIN`, `FORMOUT`, `ACTION`, `ICON`, `DISPLAYIN`, `MAPPING`, `FORMOUTALT`, `REDIRECT`, `ACTIONIN`, `ACTIONOUT`, `DISPLAYOUT`) VALUES(15, '0000-00-00 00:00:00', NULL, 50, 50, 'delete', 'delete.png', 'list', NULL, NULL, NULL, NULL, 'delete', 'form');
REPLACE INTO `##flink` (`ID`, `DATE_CREATED`, `DATE_UPDATED`, `FORMIN`, `FORMOUT`, `ACTION`, `ICON`, `DISPLAYIN`, `MAPPING`, `FORMOUTALT`, `REDIRECT`, `ACTIONIN`, `ACTIONOUT`, `DISPLAYOUT`) VALUES(16, '0000-00-00 00:00:00', NULL, 50, 50, 'view', 'view.png', 'list', NULL, NULL, NULL, NULL, 'view', 'form');
REPLACE INTO `##flink` (`ID`, `DATE_CREATED`, `DATE_UPDATED`, `FORMIN`, `FORMOUT`, `ACTION`, `ICON`, `DISPLAYIN`, `MAPPING`, `FORMOUTALT`, `REDIRECT`, `ACTIONIN`, `ACTIONOUT`, `DISPLAYOUT`) VALUES(17, '0000-00-00 00:00:00', NULL, 51, 51, 'edit', 'edit.png', 'list', NULL, NULL, NULL, NULL, 'edit', 'form');
REPLACE INTO `##flink` (`ID`, `DATE_CREATED`, `DATE_UPDATED`, `FORMIN`, `FORMOUT`, `ACTION`, `ICON`, `DISPLAYIN`, `MAPPING`, `FORMOUTALT`, `REDIRECT`, `ACTIONIN`, `ACTIONOUT`, `DISPLAYOUT`) VALUES(18, '0000-00-00 00:00:00', NULL, 51, 51, 'delete', 'delete.png', 'list', NULL, NULL, NULL, NULL, 'delete', 'form');
REPLACE INTO `##flink` (`ID`, `DATE_CREATED`, `DATE_UPDATED`, `FORMIN`, `FORMOUT`, `ACTION`, `ICON`, `DISPLAYIN`, `MAPPING`, `FORMOUTALT`, `REDIRECT`, `ACTIONIN`, `ACTIONOUT`, `DISPLAYOUT`) VALUES(19, '0000-00-00 00:00:00', NULL, 51, 51, 'view', 'view.png', 'list', NULL, NULL, NULL, NULL, 'view', 'form');

-- increase length of max product description setting
ALTER TABLE `settings` CHANGE `max_description` `max_description` SMALLINT( 3 ) NULL DEFAULT NULL; 

-- increase length of customer initials and middlename
ALTER TABLE `##customer` CHANGE `MIDDLENAME` `MIDDLENAME` VARCHAR( 20 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CHANGE `INITIALS` `INITIALS` VARCHAR( 20 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '';

-- new profile1 form for editing customer details in Wordpress user settings
UPDATE `##faces` SET `ELEMENTCOUNT`=13,`ENTITY`='customer',`TYPE`='DB',`DATA`='{\"2\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\"}},\"rules\":[],\"mandatory\":1,\"unique\":1,\"links\":[],\"id\":2,\"label\":\"Login name     \",\"x\":45,\"y\":5,\"type\":\"text_large\",\"column\":\"LOGINNAME\",\"children\":2},\"3\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\",\"hide\":1},\"2\":{\"id\":2,\"populate\":\"\",\"hide\":1}},\"rules\":[],\"mandatory\":1,\"links\":[],\"id\":3,\"label\":\"customer16       \",\"x\":45,\"y\":47,\"type\":\"password2\",\"column\":\"PASSWORD\",\"children\":3},\"8\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\",\"hide\":1}},\"rules\":[],\"mandatory\":1,\"links\":[],\"id\":8,\"label\":\"Company  \",\"x\":45,\"y\":98,\"type\":\"text_large\",\"column\":\"COMPANY\",\"children\":2},\"5\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\",\"hide\":1}},\"rules\":[],\"mandatory\":1,\"links\":[],\"id\":5,\"label\":\"customer18       \",\"x\":45,\"y\":141,\"type\":\"text_large\",\"column\":\"LASTNAME\",\"children\":2},\"9\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\",\"hide\":1}},\"rules\":[],\"mandatory\":1,\"links\":[],\"id\":9,\"label\":\"customer21       \",\"x\":45,\"y\":183,\"type\":\"text_large\",\"column\":\"ADDRESS\",\"children\":2},\"6\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\",\"hide\":1}},\"rules\":[],\"mandatory\":1,\"links\":[],\"id\":6,\"label\":\"customer22       \",\"x\":45,\"y\":225,\"type\":\"text_small\",\"column\":\"ZIP\",\"children\":2},\"10\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\"}},\"rules\":[],\"mandatory\":1,\"links\":[],\"id\":10,\"label\":\"customer23       \",\"x\":45,\"y\":267,\"type\":\"text_large\",\"column\":\"CITY\",\"children\":2},\"11\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\",\"hide\":1}},\"rules\":[],\"links\":[],\"id\":11,\"label\":\"customer1       \",\"x\":45,\"y\":309,\"type\":\"text_large\",\"column\":\"STATE\",\"children\":2},\"16\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"Netherlands\"}},\"rules\":[],\"links\":[],\"id\":16,\"label\":\"Country    \",\"x\":45,\"y\":352,\"type\":\"country\",\"column\":\"country\",\"children\":2},\"13\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\"}},\"rules\":[],\"links\":[],\"id\":13,\"label\":\"customer25       \",\"x\":45,\"y\":394,\"type\":\"simple_phone\",\"column\":\"PHONE\",\"children\":2},\"12\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"@\"}},\"rules\":[],\"mandatory\":1,\"links\":[],\"id\":12,\"label\":\"customer26       \",\"x\":45,\"y\":436,\"type\":\"email\",\"column\":\"EMAIL\",\"children\":2},\"14\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"1\"}},\"rules\":[],\"links\":[],\"id\":14,\"label\":\"customer38       \",\"x\":45,\"y\":478,\"type\":\"radio_yes_no\",\"column\":\"NEWSLETTER\",\"children\":2},\"15\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\"}},\"rules\":[],\"mandatory\":1,\"links\":[],\"id\":15,\"label\":\"general15      \",\"x\":45,\"y\":546,\"type\":\"captcha\",\"column\":\"captcha\",\"children\":2}}',`LABEL`='New customer' WHERE `NAME`='register';
INSERT INTO `##faces` (`NAME`,`ELEMENTCOUNT`,`ENTITY`,`TYPE`,`DATA`,`LABEL`) VALUES ('profile1',13,'customer','DB','{\"2\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\"}},\"rules\":[],\"mandatory\":1,\"unique\":1,\"links\":[],\"id\":2,\"label\":\"Login name      \",\"x\":45,\"y\":5,\"type\":\"text_large\",\"column\":\"LOGINNAME\",\"children\":2},\"3\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\",\"hide\":1},\"2\":{\"id\":2,\"populate\":\"\",\"hide\":1}},\"rules\":[],\"mandatory\":1,\"links\":[],\"id\":3,\"label\":\"customer16        \",\"x\":45,\"y\":47,\"type\":\"password2\",\"column\":\"PASSWORD\",\"children\":3},\"8\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\",\"hide\":1}},\"rules\":[],\"mandatory\":1,\"links\":[],\"id\":8,\"label\":\"Company   \",\"x\":45,\"y\":98,\"type\":\"text_large\",\"column\":\"COMPANY\",\"children\":2},\"5\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\",\"hide\":1}},\"rules\":[],\"mandatory\":1,\"links\":[],\"id\":5,\"label\":\"customer18        \",\"x\":45,\"y\":141,\"type\":\"text_large\",\"column\":\"LASTNAME\",\"children\":2},\"9\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\",\"hide\":1}},\"rules\":[],\"mandatory\":1,\"links\":[],\"id\":9,\"label\":\"customer21        \",\"x\":45,\"y\":183,\"type\":\"text_large\",\"column\":\"ADDRESS\",\"children\":2},\"6\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\",\"hide\":1}},\"rules\":[],\"mandatory\":1,\"links\":[],\"id\":6,\"label\":\"customer22        \",\"x\":45,\"y\":225,\"type\":\"text_small\",\"column\":\"ZIP\",\"children\":2},\"10\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\"}},\"rules\":[],\"mandatory\":1,\"links\":[],\"id\":10,\"label\":\"customer23        \",\"x\":45,\"y\":267,\"type\":\"text_large\",\"column\":\"CITY\",\"children\":2},\"11\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\",\"hide\":1}},\"rules\":[],\"links\":[],\"id\":11,\"label\":\"customer1        \",\"x\":45,\"y\":309,\"type\":\"text_large\",\"column\":\"STATE\",\"children\":2},\"16\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"Netherlands\"}},\"rules\":[],\"links\":[],\"id\":16,\"label\":\"Country     \",\"x\":45,\"y\":352,\"type\":\"country\",\"column\":\"country\",\"children\":2},\"13\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\"}},\"rules\":[],\"links\":[],\"id\":13,\"label\":\"customer25        \",\"x\":45,\"y\":394,\"type\":\"simple_phone\",\"column\":\"PHONE\",\"children\":2},\"12\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"@\"}},\"rules\":[],\"mandatory\":1,\"links\":[],\"id\":12,\"label\":\"customer26        \",\"x\":45,\"y\":436,\"type\":\"email\",\"column\":\"EMAIL\",\"children\":2},\"14\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"1\"}},\"rules\":[],\"links\":[],\"id\":14,\"label\":\"customer38        \",\"x\":45,\"y\":478,\"type\":\"radio_yes_no\",\"column\":\"NEWSLETTER\",\"children\":2},\"15\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\"}},\"rules\":[],\"mandatory\":1,\"links\":[],\"id\":15,\"label\":\"general15       \",\"x\":45,\"y\":546,\"type\":\"captcha\",\"column\":\"captcha\",\"children\":2}}','New customer');
UPDATE `##faces` SET `ELEMENTCOUNT`=8,`ENTITY`='customer',`TYPE`='DB',`DATA`='{\"8\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\",\"hide\":1}},\"rules\":[],\"links\":[],\"id\":8,\"label\":\"Company    \",\"x\":45,\"y\":5,\"type\":\"text_large\",\"column\":\"COMPANY\",\"children\":2},\"9\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\",\"hide\":1}},\"rules\":[],\"mandatory\":1,\"links\":[],\"id\":9,\"label\":\"customer21         \",\"x\":45,\"y\":47,\"type\":\"text_large\",\"column\":\"ADDRESS\",\"children\":2},\"6\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\",\"hide\":1}},\"rules\":[],\"mandatory\":1,\"links\":[],\"id\":6,\"label\":\"customer22         \",\"x\":45,\"y\":89,\"type\":\"text_small\",\"column\":\"ZIP\",\"children\":2},\"10\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\"}},\"rules\":[],\"mandatory\":1,\"links\":[],\"id\":10,\"label\":\"customer23         \",\"x\":45,\"y\":132,\"type\":\"text_large\",\"column\":\"CITY\",\"children\":2},\"11\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\",\"hide\":1}},\"rules\":[],\"links\":[],\"id\":11,\"label\":\"customer1         \",\"x\":45,\"y\":174,\"type\":\"text_large\",\"column\":\"STATE\",\"children\":2},\"16\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"Netherlands\"}},\"rules\":[],\"mandatory\":1,\"links\":[],\"id\":16,\"label\":\"Country      \",\"x\":45,\"y\":216,\"type\":\"country\",\"column\":\"country\",\"children\":2},\"13\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\"}},\"rules\":[],\"links\":[],\"id\":13,\"label\":\"customer25         \",\"x\":45,\"y\":258,\"type\":\"simple_phone\",\"column\":\"PHONE\",\"children\":2},\"14\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"1\"}},\"rules\":[],\"links\":[],\"id\":14,\"label\":\"customer38         \",\"x\":45,\"y\":300,\"type\":\"radio_yes_no\",\"column\":\"NEWSLETTER\",\"children\":2}}',`LABEL`='New customer' WHERE `NAME`='profile1';

-- new setting to display categories underneath groups in products sidebar
ALTER TABLE `##settings` ADD COLUMN `SHOWCAT` int(6) NULL;
UPDATE `##settings` SET `FASTCHECKOUT`=1,`REGISTERDOB`='',`SHOWCAT`=1,`DATE_UPDATED`='2010-03-14 17:26:01' WHERE `ID`=1;
UPDATE `##faces` SET `ELEMENTCOUNT`=3,`ENTITY`='settings',`TYPE`='DB',`DATA`='{\"1\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"1\"}},\"rules\":[],\"links\":[],\"id\":1,\"label\":\"Activate fast checkout   \",\"x\":45,\"y\":5,\"type\":\"checkbox\",\"column\":\"FASTCHECKOUT\",\"children\":2},\"2\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"1\"}},\"rules\":[],\"links\":[],\"id\":2,\"label\":\"Date of birth on registration form  \",\"x\":45,\"y\":47,\"type\":\"checkbox\",\"column\":\"REGISTERDOB\",\"children\":2},\"3\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"1\"}},\"rules\":[],\"id\":3,\"label\":\"Show categories\",\"x\":45,\"y\":89,\"type\":\"checkbox\",\"column\":\"SHOWCAT\",\"children\":2}}',`LABEL`='Settings' WHERE `NAME`='settings';

-- new prompts table
INSERT INTO `##faces` (`NAME`,`ELEMENTCOUNT`,`ENTITY`,`TYPE`,`DATA`,`LABEL`) VALUES ('prompt',4,'prompt','DB','{\"4\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\",\"sortorder\":2}},\"rules\":[],\"links\":[],\"id\":4,\"label\":\"Label\",\"x\":45,\"y\":5,\"type\":\"text_large\",\"column\":\"LABEL\",\"children\":2},\"1\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\",\"sortorder\":1}},\"rules\":[],\"mandatory\":1,\"links\":[],\"id\":1,\"label\":\"Language \",\"x\":45,\"y\":47,\"type\":\"text_small\",\"column\":\"LANG\",\"children\":2},\"2\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\",\"sortorder\":3}},\"rules\":[],\"mandatory\":1,\"links\":[],\"id\":2,\"label\":\"Standard text \",\"x\":45,\"y\":90,\"type\":\"textarea\",\"column\":\"STANDARD\",\"children\":2},\"3\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\",\"sortorder\":4}},\"rules\":[],\"links\":[],\"id\":3,\"label\":\"Custom text \",\"x\":45,\"y\":167,\"type\":\"textarea\",\"column\":\"CUSTOM\",\"children\":2}}','Prompts');
UPDATE `##faces` SET `ELEMENTCOUNT`=4,`ENTITY`='prompt',`TYPE`='DB',`DATA`='{\"4\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\",\"sortorder\":2}},\"rules\":[],\"searchable\":1,\"links\":[],\"id\":4,\"label\":\"Label     \",\"x\":45,\"y\":4,\"type\":\"text_large\",\"column\":\"LABEL\",\"children\":2},\"5\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"en\"}},\"rules\":[],\"searchable\":1,\"links\":[],\"id\":5,\"label\":\"Language\",\"x\":45,\"y\":44,\"type\":\"ws_language\",\"column\":\"LANG\",\"children\":2},\"2\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\",\"sortorder\":3}},\"rules\":[],\"mandatory\":1,\"searchable\":1,\"links\":[],\"id\":2,\"label\":\"Standard text      \",\"x\":45,\"y\":80,\"type\":\"textarea\",\"column\":\"STANDARD\",\"children\":2},\"3\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\",\"sortorder\":4}},\"rules\":[],\"links\":[],\"id\":3,\"label\":\"Custom text      \",\"x\":45,\"y\":168,\"type\":\"textarea\",\"column\":\"CUSTOM\",\"children\":2}}',`LABEL`='Prompts' WHERE `NAME`='prompt';

CREATE TABLE IF NOT EXISTS `##prompt`(
  		`ID` int(11) NOT NULL auto_increment,
  		`DATE_CREATED` datetime NOT NULL default '0000-00-00 00:00:00',
  		`DATE_UPDATED` datetime default NULL,
  		PRIMARY KEY  (`ID`));
ALTER TABLE `##prompt` ADD COLUMN `LABEL` varchar(40) NULL;
ALTER TABLE `##prompt` ADD COLUMN `LANG` varchar(20) NULL;
ALTER TABLE `##prompt` ADD COLUMN `STANDARD` mediumtext NULL;
ALTER TABLE `##prompt` ADD COLUMN `CUSTOM` mediumtext NULL;
ALTER TABLE `##prompt` ADD UNIQUE `KEY1` ( `LANG`,`LABEL` ); 
UPDATE `##faces` SET `ELEMENTCOUNT`=4,`ENTITY`='prompt',`TYPE`='DB',`DATA`='{\"4\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\",\"sortorder\":2}},\"rules\":[],\"links\":[],\"id\":4,\"label\":\"Label \",\"x\":45,\"y\":5,\"type\":\"text_large\",\"column\":\"LABEL\",\"children\":2},\"5\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"en\"}},\"rules\":[],\"id\":5,\"label\":\"Language \",\"x\":45,\"y\":47,\"type\":\"ws_language\",\"column\":\"LANGUAGE\",\"children\":2},\"2\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\",\"sortorder\":3}},\"rules\":[],\"mandatory\":1,\"links\":[],\"id\":2,\"label\":\"Standard text  \",\"x\":45,\"y\":90,\"type\":\"textarea\",\"column\":\"STANDARD\",\"children\":2},\"3\":{\"subelements\":{\"1\":{\"id\":1,\"populate\":\"\",\"sortorder\":4}},\"rules\":[],\"links\":[],\"id\":3,\"label\":\"Custom text  \",\"x\":45,\"y\":167,\"type\":\"textarea\",\"column\":\"CUSTOM\",\"children\":2}}',`LABEL`='Prompts' WHERE `NAME`='prompt';
ALTER TABLE `##prompt` ADD COLUMN `LANGUAGE` varchar(5) NULL;

-- load prompt data
